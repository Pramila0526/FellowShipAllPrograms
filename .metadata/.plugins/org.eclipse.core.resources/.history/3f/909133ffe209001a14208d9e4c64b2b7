package com.bridgelabz.fellowshipprogramss.utility;

import java.lang.Long;
import java.lang.NumberFormatException;


public class PrimeChecker {

   public static String PRIME_NUMBER_MESSAGE = " is a prime number";

   
   public static String NOT_PRIME_NUMBER_MESSAGE = " is not a prime number";

  
   private long mInputNumber;

   
   private boolean mIsPrime;

  
    
   
   public PrimeChecker() {
      mInputNumber = 0; 
      this.checkPrime();
   }

   /**
    * Constructor to take the input number
    *
    * @param number the number to check for prime
    */
   public PrimeChecker(long number) {
      mInputNumber = number; 
      this.checkPrime();
   }

   /*
    * JAVA STYLE GUIDE - CLASS FUNCTION DECLARATION STYLE
    * NOTES - CLASS FUNCTION IS DECLARED IMMEDIATELY AFTER CONSTRUCTOR
    *       - FOR EVERY FUNCTION THERE NEEDS TO BE A COMMENT DESRIBING THE PURPOSE
    *       - FUNCTION DECLARATION STARTS WITH A SMALL CASE AND THEN CAMEL CASE FOR EVERY WORD IN
    *         THE FUNCTION
    */
   
   /**
    * Function to check for prime
    *
    * @param number the number to check for prime
    */
   public void checkPrime() {
      mIsPrime = checkPrime(mInputNumber);
   }

   /**
    * return a string message describing the number is prime or not. This function overrides 
    * the toString function declared in the Object Class
    *
    * @return String message for prime and non prime numbers
    */
   public String toString() {
      String message = "";
      // retrun string based on the mInputNumber is prime or not
      if (mIsPrime) message = mInputNumber + PRIME_NUMBER_MESSAGE;
      else message = mInputNumber + NOT_PRIME_NUMBER_MESSAGE;
      return message;
   }

   /**
    * Static Function to check for prime. This function is declared static because no initialization
    * of clase PrimeChecker is needed if the number is to be checked for prime. 
    *
    * @param number the number to check for prime
    * @return true if the number is a prime else false
    */
   public static boolean checkPrime(long n) {
      boolean isPrime = true;

      /*
       * JAVA STYLE GUIDE - EVERY BLOCK NEEDS TO HAVE THE COMMENT
       * NOTES - LEAVE SINGLE BLANK LINE AFTER EVERY LOOP
       *       - NO NEED FOR CURLY BRACES {} IF THE CONDITION HAS ONLY ONE STATEMENT
       */
      // Any number less then 2 ia a prime
      if (n < 2) isPrime = false;

      // try all possible factors of n
      // if n has a factor, then it has one less than or equal to sqrt(n),
      // so for efficiency we only need to check factor <= sqrt(n) or
      // equivalently factor*factor <= n
      for (long factor = 2; factor*factor <= n; factor++) {
         // if factor divides evenly into n, n is not prime, so break out of loop
         if (n % factor == 0) {
             isPrime = false;
             break;
         }
      } // End of for loop
      return isPrime;
   }

   /*
    * The main function is written to test PrimeChecker class
    */
   public static void main(String[] args) { 
      long n = 100;

      // Only taking valid integer input. If Exception is thrown than not procssing further.
     /* try {
        n = Long.parseLong(args[0]);
      } catch (Exception ex) {
        System.out.println("PLEASE ENTER VALID INPUT: "+ex.getMessage());
        return;
      }*/

      // Method 1 - using static function of Prime Checker
      // print out whether n is prime
      boolean isPrime = PrimeChecker.checkPrime(n);
      System.out.println("PRINTING RESULT USING PrimeChecker STATIC FUNCTION");
      if (isPrime) System.out.println(n + PrimeChecker.PRIME_NUMBER_MESSAGE);
      else System.out.println(n + PrimeChecker.NOT_PRIME_NUMBER_MESSAGE);

      // Method 2 - using instance function of Prime Checker
      PrimeChecker primeChecker = new PrimeChecker(n);
      System.out.println("PRINTING RESULT USING PrimeChecker INSTANCE FUNCTION");
      System.out.println(primeChecker.toString());
   }
}